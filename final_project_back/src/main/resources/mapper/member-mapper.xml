<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace = "kr.co.iei.member.model.dao.MemberDao">

	<!-- 회원가입 -->
	<insert id="join">
		insert into member_tbl values(member_seq.nextval, #{memberId}, #{memberPw}, #{memberNickname}, #{memberPhone}, #{memberEmail}, #{memberGender}, #{memberBirth}, to_char(sysdate, 'yyyy-mm-dd'), 2)		
	</insert>

	<!-- 로그인
	<select id="login" resultType="member">
		select * from member_tbl where member_id = #{memberId} and member_pw = #{memberPw}
	</select>
	-->
	
	<!-- jwt  -->
	<select id="selectOneMember" resultType="member">
		select * from member_tbl where member_id = #{memberId}
	</select>
	
	<!-- 아이디 중복 -->
	<select id="exists" resultType="int">
		select count(*) from member_tbl where member_id = #{memberId}
	</select>
	
	<!-- 닉네임 중복 -->
	<select id="nickname" resultType="int">
		select count(*) from member_tbl where member_nickname = #{memberNickname}
	</select>
	
	<!-- 비밀번호 변경 -->
	<update id="changePw">
		update member_tbl set member_pw = #{memberPw} where member_id = #{memberId}
	</update>
</mapper>