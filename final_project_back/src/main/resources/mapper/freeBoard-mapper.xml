<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="kr.co.iei.freeboard.model.dao.FreeBoardDao">

	<select id="selectCategoryList" resultType = "freeBoardCategory">
 		SELECT 
			FREE_BOARD_CATEGORY,FREE_BOARD_SUBCATEGORY 
			FROM FREE_BOARD_SUB_CATEGORY_TBL 
		JOIN FREE_BOARD_CATEGORY_TBL USING (FREE_BOARD_CATEGORY_NO)
	</select>  
	
	<select id="searchTitle" resultType = "freeBoard">
		select * from free_board_tbl where free_board_title like '%||${freeBoardTitle}||%'
	</select>
	
	<select id="boardList" resultType="freeBoard">
		select * from free_board_tbl
	</select>
	<select id="totalBoardList" resultType = "freeBoard">
		select * from 
		    (select rownum as fbnum, fb.* 
		        from (select free_board_no, free_board_subcategory_no, free_board_category_no, free_board_title, member_no, free_board_content, free_board_date 
		            from free_board_tbl order by free_board_no desc) fb)
	            where fbnum between #{startRow} and #{endRow}
	</select>
	<select id="totalListCount" resultType="int">
		select count(*) from free_board_tbl
	</select>
</mapper>
